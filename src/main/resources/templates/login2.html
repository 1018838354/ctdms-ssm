<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<html>
<head>
<title>学院教学文档管理系统</title> 
<link href="../img/favicon.ico" rel="icon" type="image/x-icon" />
<link rel="stylesheet" href="css/login.css" />
<link rel="stylesheet" href="css/ctdms.css" /> 
</head>
<body>

<div class="wallpaper">
	<div class="wrapper">
		<div class="main-content">
			<h1>Smart document management</h1>
			<p>Ctdms is a teacher platform inspired by the way you work. From open source to business, you can upload and review document.</p>
		</div>

		<div class="signup-form">
			<div class="signup-form__logo-box">
				<div class="signup-form__logo"></div>
				<div class="signup-form__catchphrase">让文档提交变得更有效率</div>
			</div>
			<div id="container-login">
				<div data-reactroot="" id="LoginComponent">
					<span>
						<form th:action="@{/login}" method="POST">
							<input type="hidden"  />
							<div class="input-field-group">
								<div class="input-field">
									<input type="text"  name="username" placeholder="教师姓名/ctdms ID"
										   autocomplete="false" autocapitalize="off">
								</div>
								<div class="input-field">
									<input type="password"  name="password" placeholder="密码"
										   autocomplete="false" autocapitalize="off">
								</div>
							</div>

							<ul class="error-msg-list fadeInUp animated">
								<li th:if="${param.error}" class="error-msg-list__item">登陆失败，账号或密码错误！</li>
								<li th:if="${param.logout}" class="error-msg-list__item">退出登录成功</li>
							</ul>

							<input type="submit" onclick="return check(this)" class="signup-form__submit" value="登录">
							<div class="signup-form-nav">
								<div class="left"></div>
								<div class="right">
									<a href="" target="_blank">忘记了</a>
								</div>
							</div>
						</form>
					</span>
				</div>
			</div>
			<div class="signup-form__sns-btn-area">
				<div>江西财经大学-软通学院</div>
				<div class="sns-button-list">

				</div>
			</div>
		</div>
	</div>
</div>
</body>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/preload.min.js"></script>
<script type="text/javascript">
    $.pageLoad.PageLoading({
        delayTime: 500
    });
    function check(btn){
        var pw = $("input[type='password']").val();
        var un = $("input[type='text']").val();
        console.log(un);
        var list = document.getElementsByClassName("error-msg-list")[0];
        while(list.lastChild) //当div下还存在末尾节点时 循环继续
        {list.removeChild(list.lastChild) }
        var b1 = addErrorMsg(un,'您所输入的账号过短');
        var b2 = addErrorMsg(pw,'密码为2～25文字以内');
        console.log(b1 +" " +b2);
        console.log(un.length);
        return b1&&b2;
    }
    function addErrorMsg(check,msg){
        if(check.length>=2){ return true;}
        var list = document.getElementsByClassName("error-msg-list")[0];
        var newNode = document.createElement("li");
        newNode.className = 'error-msg-list__item fadeInUp animated';
        newNode.innerHTML = msg;
        list.appendChild(newNode);
        return false;
    }
</script>
<!--
	<script type="text/javascript" src="js/jquery.min.js" ></script>
	<script type="text/javascript" src="js/ios-parallax.js" ></script>
	<script> 
	    $(document).ready(function() {
	      $('.wallpaper').iosParallax({
	        movementFactor: 50
	      });
	    }); 
	</script>
	 -->
</html>